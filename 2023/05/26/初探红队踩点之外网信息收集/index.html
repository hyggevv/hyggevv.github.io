<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.7.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.7.0" type="image/png" sizes="32x32"><meta name="description" content="引用原文作者的一句话：想要构建一个上帝视野，前期的信息收集工作是必不可少的，无论是了解一个人、一项业务、还是深入一个系统等，都需要信息。渗透测试的本质是信息收集，而个人直观感受就是“意料之外，情理之中”。">
<meta property="og:type" content="article">
<meta property="og:title" content="初探红队踩点之外网信息收集">
<meta property="og:url" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/index.html">
<meta property="og:site_name" content="hey&#39;s blog">
<meta property="og:description" content="引用原文作者的一句话：想要构建一个上帝视野，前期的信息收集工作是必不可少的，无论是了解一个人、一项业务、还是深入一个系统等，都需要信息。渗透测试的本质是信息收集，而个人直观感受就是“意料之外，情理之中”。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/1.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/2.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/3.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/4.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/5.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/6.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/7.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/8.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/10.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/9.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/11.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/12.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/13.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/14.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/15.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/16.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/17.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/18.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/19.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/20.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/21.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/22.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/23.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/24.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/25.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/26.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/27.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/28.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/29.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/30.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/31.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/32.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/33.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/34.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/35.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/36.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/37.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/38.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/39.png">
<meta property="article:published_time" content="2023-05-26T12:50:26.000Z">
<meta property="article:modified_time" content="2024-01-16T11:26:27.885Z">
<meta property="article:author" content="hey">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/1.png"><title>初探红队踩点之外网信息收集 | hey's blog</title><link ref="canonical" href="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.7.0"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"carbon","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: true,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.2"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">Home</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">Archives</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">Categories</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">Tags</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/about/"><span class="header-nav-menu-item__icon"><i class="fas fa-user"></i></span><span class="header-nav-menu-item__text">About</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/read/"><span class="header-nav-menu-item__icon"><i class="fas fa-book"></i></span><span class="header-nav-menu-item__text">menu.read</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">hey's blog</div><div class="header-banner-info__subtitle">天气转晴太阳崭新我在前进</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">初探红队踩点之外网信息收集</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-05-26</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2024-01-16</span></span><span class="post-meta-item post-meta-item--visitors"><span class="post-meta-item__icon"><i class="fas fa-eye"></i></span><span class="post-meta-item__info">Visited</span><span class="post-meta-item__value" id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body">
        <h1 id="0x01-主域名信息">
          <a href="#0x01-主域名信息" class="heading-link"><i class="fas fa-link"></i></a><a href="#0x01-主域名信息" class="headerlink" title="0x01.主域名信息"></a>0x01.主域名信息</h1>
      <p>什么是主域名:主域名由两个或两个以上的字母构成，中间由点号隔开，整个域名通常只有1个点号。主域名通常与企业产品、品牌等高度关联，是企业对外形象的一种标识。我们一般以记住主域名来代替记住ip</p>

        <h2 id="主域名可收集到的信息">
          <a href="#主域名可收集到的信息" class="heading-link"><i class="fas fa-link"></i></a><a href="#主域名可收集到的信息" class="headerlink" title="主域名可收集到的信息"></a>主域名可收集到的信息</h2>
      
        <h3 id="ICP备案">
          <a href="#ICP备案" class="heading-link"><i class="fas fa-link"></i></a><a href="#ICP备案" class="headerlink" title="ICP备案"></a>ICP备案</h3>
      <p>ICP备案:国内使用国内服务器的网站，都必须要先办理ICP备案后才可以上线。<br>作用：通过查询目标企业的备案信息，可直接获取到目标企业注册了哪些域名，从而增加可渗透的目标范围。<br>查询网站：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://beian.miit.gov.cn/#/Integrated/index</span><br><span class="line">https://www.aizhan.com/cha/</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/1.png"><br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/2.png"></p>

        <h3 id="证书查询">
          <a href="#证书查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#证书查询" class="headerlink" title="证书查询"></a>证书查询</h3>
      <p>SSL证书：SSL证书是一种遵守SSL协议的服务器数字证书，由受信任的根证书颁发机构颁发。SSL证书采用SSL协议进行通信，SSL证书部署到服务器后，服务器端的访问将启用HTTPS协议。 您的网站将会通过HTTPS加密协议来传输数据，可帮助服务器端和客户端之间建立加密链接，从而保证数据传输的安全。<br>作用：通过查询公用SSL证书的网站，可以找到相关的其他域名<br>查询方式:<br>1.从浏览器直接查看；点击安全-&gt;查看证书<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/3.png"><br>2.借助网站</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://crt.sh/</span><br><span class="line">https://en.fofa.info //借助于fofa的语法来查询</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/4.png"></p>

        <h3 id="Whois">
          <a href="#Whois" class="heading-link"><i class="fas fa-link"></i></a><a href="#Whois" class="headerlink" title="Whois"></a>Whois</h3>
      <p>Whois:Whois是用来查询互联网中域名的IP以及所有者等信息的传输协议。早期的WHOIS查询多以命令行接口存在，但是现在出现了一些基于网页接口的简化在线查询工具，甚至可以一次向不同的数据库查询。网页接口的查询工具仍然依赖WHOIS协议向服务器发送查询请求，命令行接口的工具仍然被系统管理员广泛使用。<br>作用:通过查询目标的WHOIS信息，对联系人、联系邮箱等信息进行反查，获取更多相关的域名信息。重点关注注册商、注册人、邮件、DNS解析服务器、注册人联系电话,<br>主要在于反查的操作。<br>查询方式</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">站长之家：http://whois.chinaz.com/</span><br><span class="line">bugscaner:http://whois.bugscaner.com/</span><br><span class="line">BGP:https://bgp.he.net/</span><br><span class="line">who.is；https://who.is/</span><br><span class="line">域名信息查询-腾讯云：https://whois.cloud.tencent.com/</span><br><span class="line">UCANN：https://lookup.icann.org/</span><br><span class="line">狗狗查询：https://www.ggcx.com/main/integrated</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/5.png"><br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/6.png"><br>tips:<br>部分whois查询存在隐藏信息，可以在其他站点查询。(信息收集要全面，有时候一个网站不行可以多尝试几个网站)<br>whois主要还是注册商、注册人、邮件、DNS 解析服务器、注册人联系电话。<br>由于GDRP，ICANN要求所有域名注册商必须对域名whois隐私信息进行保护，所以whois信息越来越少……但还是会存在一些whois域名系统是旧缓存数据。</p>

        <h3 id="IP反查">
          <a href="#IP反查" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP反查" class="headerlink" title="IP反查"></a>IP反查</h3>
      <p>作用：因为目标的多个域名可能会绑定在同一个ip上面，所有通过ip的反查可以获得更多的域名信息；此时可能会发现旁站信息；当我们的门户站打不进去时也可以通过旁站来拿shell<br>查询方式</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://s.tool.chinaz.com/same</span><br><span class="line">https://dnslytics.com/</span><br><span class="line">https://site.ip138.com/</span><br><span class="line">fofa</span><br><span class="line">shodan</span><br><span class="line">bing</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/7.png"><br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/8.png"><br>tips:<br>目标可能存在多个域名绑定于同一ip上，通过ip反查可以获取到其他域名信息。比如旁站。<br>通过获取目标真实IP后，进行反查的旁站更真实。<br>查询站点需复杂性，单一的站点会有反查不出信息的可能;大型企业不同的站点收录可能不一样；多个查询网站一同尝试可能会有不一样的收获。</p>

        <h3 id="HOST碰撞">
          <a href="#HOST碰撞" class="heading-link"><i class="fas fa-link"></i></a><a href="#HOST碰撞" class="headerlink" title="HOST碰撞"></a>HOST碰撞</h3>
      <p>在信息收集时往往会出现ip地址无妨访问的情况；究其原因有可能是我们配置出错的问题；存在一些隐形的资产，直接访问的时候会出现限制访问的情况。究其原因，大多数是因为中间件对ip访问做限制，不能通过ip直接访问，必须使用域名进行访问。如果域名解析记录里也找不到域名记录，这时就可以用到HOST碰撞技术，通过将域名和IP进行捆绑碰撞，一旦匹配到后端代理服务器上的域名绑定配置，就可以访问到对应的业务系统，从而发现隐形资产。<br>host碰撞步骤以及方法： <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.wangan.com/p/11v7471117136181">https://www.wangan.com/p/11v7471117136181</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>自动化工具</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/cckuailong/hostscan</span><br><span class="line">https://github.com/fofapro/Hosts_scan</span><br><span class="line">https://github.com/smxiazi/host_scan</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/10.png"><br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/9.png"></p>

        <h3 id="DNS共享记录">
          <a href="#DNS共享记录" class="heading-link"><i class="fas fa-link"></i></a><a href="#DNS共享记录" class="headerlink" title="DNS共享记录"></a>DNS共享记录</h3>
      <p>DNS:DNS（Domain Name Server，域名服务器）是进行域名(domain name)和与之相对应的IP地址 (IP address)转换的服务器。DNS中保存了一张域名(domain name)和与之相对应的IP地址 (IP address)的表，以解析消息的域名，即保存了IP地址和域名的相互映射关系。域名是Internet上某一台计算机或计算机组的名称，用于在数据传输时标识计算机的电子方位（有时也指地理位置）。域名是由一串用点分隔的名字组成的，通常包含组织名，而且始终包括两到三个字母的后缀，以指明组织的类型或该域所在的国家或地区。也正是因为DNS的存在，访问相应服务只需记住域名，不需要记住无规则的ip地址。<br>作用：可以通过查询共享DNS服务器的主机来获取到相关的域名，一般多是用于自建DNS服务器。如果是公开的DNS服务器，那么查询的效果将会特别差。主要是想收集到更多有相关联的域名；打开攻击面<br>查询方式：<br>1.首先查询目标是否存在自建的NS服务器</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nslookup -query=ns baidu.com 8.8.8.8 //在需要查询的域名后面跟上域名服务器的地址</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/11.png"><br>2.接着把查询到的ns服务器带入 <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://hackertarget.com/find-shared-dns-servers/">https://hackertarget.com/find-shared-dns-servers/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> 进行查询<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/12.png"></p>

        <h3 id="企业资产信息">
          <a href="#企业资产信息" class="heading-link"><i class="fas fa-link"></i></a><a href="#企业资产信息" class="headerlink" title="企业资产信息"></a>企业资产信息</h3>
      <p>1.股权投资信息：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">天眼查：https://www.tianyancha.com/</span><br><span class="line">企查查：https://www.qcc.com/</span><br><span class="line">钉钉企典：https://www.dingtalk.com/qidian/home?spm=a213l2.13146415.4929779444.89.7f157166W6H4YZ</span><br></pre></td></tr></table></div></figure>
<p>2.公众号信息：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">搜狗搜索：https://wx.sogou.com/</span><br><span class="line">企查查：https://www.qcc.com/</span><br></pre></td></tr></table></div></figure>
<p>3.小程序</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">企查查：https://www.qcc.com/</span><br><span class="line">微信app</span><br><span class="line">支付宝app</span><br></pre></td></tr></table></div></figure>
<p>4.应用信息</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">天眼查：https://www.tianyancha.com/</span><br><span class="line">七麦数据：https://www.qimai.cn/</span><br><span class="line">企查查：https://www.qcc.com/</span><br><span class="line">小蓝本：https://www.xiaolanben.com/pc</span><br><span class="line">点点数据：https://app.diandian.com/</span><br></pre></td></tr></table></div></figure>
<p>自动化工具ENScan: <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://github.com/wgpsec/ENScan_GO">https://github.com/wgpsec/ENScan_GO</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/13.png"></p>

        <h3 id="众测">
          <a href="#众测" class="heading-link"><i class="fas fa-link"></i></a><a href="#众测" class="headerlink" title="众测"></a>众测</h3>
      <p>补天、漏洞银行、先知、hackerone等众测的广商提供的域名测试范围。<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/14.png"></p>

        <h1 id="0x02-子域名信息">
          <a href="#0x02-子域名信息" class="heading-link"><i class="fas fa-link"></i></a><a href="#0x02-子域名信息" class="headerlink" title="0x02.子域名信息"></a>0x02.子域名信息</h1>
      <p>前面总结了主域名收集的思路和方法，但除了主域名外，子域名也是域名信息收集中的一个重要环节，在当今各种防护设备满天飞的情况下，想要拿下主域名越来越难，但我们可以使用迂回策略，从子域名下手，慢慢靠近主域名以达到shell的目的。子域名收集可以帮助我们发现目标对外开放的更多的资产，如果能找到一些被遗忘或目标不关注的子域名，将其作为突破点，可能达到事半功倍的效果。<br>tips:<br>子域名包含一些常见资产类型：办公系统，邮箱系统，论坛，商城等。而其他管理系统，网站管理后台等较少出现在子域名中。<br>一般情况下，相同类型漏洞可能存在同一组织的不同的域名&#x2F;应用程序中。<br>子域名系统维护成本、用户群体等，一般少于主域名，会存在一些版本迭代、配置不安全、弱密码账号管理策略等。<br>子域名探测发现更多的服务，增加漏洞发现的可能性</p>

        <h2 id="子域名的收集">
          <a href="#子域名的收集" class="heading-link"><i class="fas fa-link"></i></a><a href="#子域名的收集" class="headerlink" title="子域名的收集"></a>子域名的收集</h2>
      
        <h3 id="证书透明度收集子域">
          <a href="#证书透明度收集子域" class="heading-link"><i class="fas fa-link"></i></a><a href="#证书透明度收集子域" class="headerlink" title="证书透明度收集子域"></a>证书透明度收集子域</h3>
      <p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/15.png"><br>作用：因为证书透明性是开放架构，可以检测由证书颁发机构错误颁发的SSL证书，也可以识别恶意颁发证书的证书颁发机构，且任何人都可以构建或访问，CA证书又包含了域名、子域名、邮箱等敏感信息，价值就不言而喻了。<br>查询方式：<br>1.网站查询</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">https://crt.sh/</span><br><span class="line">https://www.entrust.com/ct-search/</span><br><span class="line">https://developers.facebook.com/tools/ct/</span><br><span class="line">https://spyse.com/search/certificate</span><br><span class="line">https://sslmate.com/certspotter/api/</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/16.png"><br>2.浏览器的查询<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/17.png"><br>3.自动化收集工具</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shmilylty/OneForAll</span><br><span class="line">https://github.com/OWASP/Amass</span><br><span class="line">https://github.com/UnaPibaGeek/ctfr</span><br><span class="line">https://github.com/projectdiscovery/subfinder</span><br><span class="line">https://github.com/knownsec/ksubdomain</span><br><span class="line">https://github.com/p1g3/JSINFO-SCAN</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/18.png"></p>

        <h3 id="DNS域传送">
          <a href="#DNS域传送" class="heading-link"><i class="fas fa-link"></i></a><a href="#DNS域传送" class="headerlink" title="DNS域传送"></a>DNS域传送</h3>
      <p>DNS服务器分为主服务器，备份服务器，缓存服务器<br>在主备服务器之间同步数据库，需要使用“DNS域传送”的一种DNS事务。域传送是指备份服务器从主服务器上复制数据，然后更新自身的数据库，以达到数据同步的目的，这样是为了增加冗余，一旦主服务器出现问题可直接让备份服务器做好支撑工作。若DNS配置不当，可能导致匿名用户获取某个域的所有记录。造成整个网络的拓扑结构泄露给潜在的攻击者，包括一些安全性较低的内部主机，如测试服务器。凭借这份网络蓝图，攻击者可以节省很少的扫描时间。<br>错误配置:只要收到axfr就进行域传送；刷新数据<br>检测方法：<br>1.nslookup</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 查询nameserver</span><br><span class="line">nslookup -type=ns fafu.deu.cn 119.29.29.29</span><br><span class="line"># 指定nameserver，列举域名信息</span><br><span class="line">nslookup</span><br><span class="line">    server dns1.fafu.edu.cn</span><br><span class="line">    ls fafu.edu.cn</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/19.png"><br>2.Dig<br>axfr 是q-type类型的一种，axfr类型是AuthoritativeTransfer的缩写，指请求传送某个区域的全部记录。只要欺骗dns服务器发送一个axfr请求过去，如果该dns服务器上存在该漏洞，就会返回所有的解析记录值。</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dig fafu.edu.cn ns //找到ns服务器</span><br><span class="line">dig axfr @dns1.fafu.edu.cn fafu.edu.cn //发送axfr请求</span><br></pre></td></tr></table></div></figure>
<p>3.namp</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script dns-zone-transfer --script-args dns-zone-transfer.domain=fafu.edu.cn -p 53 -Pn dns1.fafu.edu.cn //利用namp的脚本</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/20.png"><br>若是存在域传送的话则会爆出子域名等信息<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/21.png"></p>

        <h3 id="公开数据集">
          <a href="#公开数据集" class="heading-link"><i class="fas fa-link"></i></a><a href="#公开数据集" class="headerlink" title="公开数据集"></a>公开数据集</h3>
      <p>Rapid7的开源数据项目收集了多种全互联网范围内的扫描数据，任何人都可下载这些数据，而本次主题中主要涉及两个数据集，分别是FDNS和RDNS，可从中获取到大量的子域名信息。<br>Rapid7开源数据：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://opendata.rapid7.com/">https://opendata.rapid7.com/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>在线网址：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://hackertarget.com/find-dns-host-records/">https://hackertarget.com/find-dns-host-records/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/22.png"></p>

        <h3 id="枚举爆破">
          <a href="#枚举爆破" class="heading-link"><i class="fas fa-link"></i></a><a href="#枚举爆破" class="headerlink" title="枚举爆破"></a>枚举爆破</h3>
      <p>要说简单粗暴还是子域名枚举爆破，通过不断的拼接字典中的子域名前缀去枚举域名的A记录进行DNS解析，如果成功解析说明子域名存在。如xxx.com拼接前缀test组合成test.xxx.com，再对其进行验证。但是域名如果使用泛解析的话，则会导致所有的域名都能成功解析，使得子域名枚举变得不精准</p>

        <h3 id="存活性探测">
          <a href="#存活性探测" class="heading-link"><i class="fas fa-link"></i></a><a href="#存活性探测" class="headerlink" title="存活性探测"></a>存活性探测</h3>
      <p>获取到大量的域名之后，我们往往需要对其的存活性进行探测；看看他的功能和是否是假的<br>自动化工具</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/broken5/bscan</span><br><span class="line">https://github.com/EASY233/Finger</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/23.png"></p>

        <h1 id="0x03-IP段信息收集">
          <a href="#0x03-IP段信息收集" class="heading-link"><i class="fas fa-link"></i></a><a href="#0x03-IP段信息收集" class="headerlink" title="0x03.IP段信息收集"></a>0x03.IP段信息收集</h1>
      
        <h2 id="1-绕过CDN寻找真实IP">
          <a href="#1-绕过CDN寻找真实IP" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-绕过CDN寻找真实IP" class="headerlink" title="1.绕过CDN寻找真实IP"></a>1.绕过CDN寻找真实IP</h2>
      <p>CDN:CDN的全称是Content Delivery Network，即内容分发网络。其基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定。通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络，CDN系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。其目的是使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度。<br>简述:CDN是IP信息探测或打点必不可绕过的一个话题。当目标使用了CDN加速，获取到的目标ip不一定是真实ip。所以通常在实施端口、漏扫等测试之前，需判断下是否真实IP，是否使用了CDN或其他代理等等，避免无效操作、蜜罐、非目标点。<br>常见CDN服务商<br>一、国内 CDN 服务商<br>阿里云 CDN<br>百度云 CDN<br>七牛云 CDN<br>又拍云 CDN<br>腾讯云 CDN<br>Ucloud<br>360 CDN<br>网宿科技<br>ChinaCache<br>帝联科技<br>二、国外 CDN 服务商<br>CloudFlare<br>StackPath<br>Fastly<br>Akamai<br>CloudFront<br>Edgecast<br>CDNetworks<br>Google Cloud CDN<br>CacheFly<br>Keycdn<br>Udomain<br>CDN77<br>CDN的判断：当确定存在CDN加速时便要想着如何绕过CDN加速；因为此时的IP不一定为真实的IP</p>

        <h3 id="CDN的判断">
          <a href="#CDN的判断" class="heading-link"><i class="fas fa-link"></i></a><a href="#CDN的判断" class="headerlink" title="CDN的判断"></a>CDN的判断</h3>
      <p>1.多ping<br>此时若是有接入CDN则在多地ping时则会出现多个ip地址；如果没有使用CDN，只会显示一个IP地址，或者双线接入情况的两个不同运营商ip。<br>查询方式</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://ping.chinaz.com/</span><br><span class="line">https://ping.aizhan.com/</span><br><span class="line">http://www.webkaka.com/Ping.aspx</span><br><span class="line">https://www.host-tracker.com/v3/check/</span><br></pre></td></tr></table></div></figure>
<p>存在CDN加速<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/24.png"><br>tips:如果服务器网络不通畅或则禁用ping则会返回超时<br>2.nslookup<br>如果返回的域名解析包含多个ip则可能是运用CDN<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/25.png"><br>3.IP反查<br>看看是否存在大量的不相关的ip</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://securitytrails.com/</span><br><span class="line">https://dns.aizhan.com/</span><br><span class="line">https://x.threatbook.cn</span><br></pre></td></tr></table></div></figure>
<p>没有使用CDN<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/26.png"><br>使用CDN<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/27.png"><br>4.header头部信息<br>请求响应包header头中是否存在cdn服务商信息<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/28.png"><br>报错信息<br>若 asp 或者 asp.net 网站返回头的 server 不是 IIS、而是 Nginx，则多半使用了nginx反向代理到 CDN<br>5.在现检测工具</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://www.cdnplanet.com/tools/cdnfinder/</span><br><span class="line">https://tools.ipip.net/cdn.php</span><br><span class="line">https://whatsmycdn.com/</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/29.png"></p>

        <h3 id="寻找真实IP">
          <a href="#寻找真实IP" class="heading-link"><i class="fas fa-link"></i></a><a href="#寻找真实IP" class="headerlink" title="寻找真实IP"></a>寻找真实IP</h3>
      <p>1.网络空间测绘引擎</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fofa</span><br><span class="line">shodan</span><br><span class="line">quake</span><br><span class="line">Censys.io</span><br></pre></td></tr></table></div></figure>
<p>tips:<br>网络空间测绘，一般都会定时把全网资产扫一遍存在数据库里。通过网络空间测绘搜索引擎搜索其收录的目标相关信息，有概率获取到目标真实IP。<br>大概从以下几个关键因素去搜索验证：<br>ip<br>域名<br>title<br>logo<br>icp<br>body<br>js&#x2F;css&#x2F;html等静态特征值<br>2.DNS历史解析记录<br>查询历史域名解析记录；可能会记录之前未使用CDN记录的真实IP地址</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">https://dnsdb.io/zh-cn/</span><br><span class="line">https://securitytrails.com/</span><br><span class="line">https://x.threatbook.cn/</span><br><span class="line">http://toolbar.netcraft.com/site_report?url=</span><br><span class="line">https://viewdns.info/iphistory/?domain=</span><br></pre></td></tr></table></div></figure>
<p>此时我们先判定存在CND<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/30.png"><br>存在CDN，利用微步查询获取历史记录，然后将每个ip都测试一篇<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/31.png"><br>通过源代码获取，确定真实ip<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/32.png"><br>3.二级域名法<br>由于部分CDN价格昂贵，所以一些重要的站点会使用CDN加速，而一些子域名则没有使用，且极有可能和主站在同一C段，这时候，就可以通过发现目标的子域名，从而根据IP来定位主域名的IP地址。<br>查询方式：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://x.threatbook.cn/</span><br><span class="line">https://github.com/knownsec/ksubdomain</span><br><span class="line">https://github.com/p1g3/JSINFO-SCAN</span><br></pre></td></tr></table></div></figure>
<p>4.邮箱：<br>用目标邮件服务器发送邮件给自己(QQ邮箱)再查看邮件源码一定情况下可以找到真实IP（服务端和我们建立连接）<br>tips:通过发送邮件给一个不存在的邮箱地址，比如<code>000xxx@domain.com</code>为该用户不存在，所以会发送失败，并且还会收到一个包含发送电子邮件给你的服务器<br>的真实IP<br>查询方式：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">RSS 订阅</span><br><span class="line">邮箱注册、激活处</span><br><span class="line">邮箱找回密码处</span><br><span class="line">产品更新的邮件推送    </span><br><span class="line">某业务执行后发送的邮件通知</span><br><span class="line">员工邮箱、邮件管理平台等入口处的忘记密码</span><br></pre></td></tr></table></div></figure>
<p>5.海外ping<br>部分国内cdn广商只做了国内的线路，而没有铺设对国外的线路，这时就可以通过海外解析直接获取到真实IP。<br>查询方式</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http://ping.chinaz.com/</span><br><span class="line">https://asm.ca.com/zh_cn/ping.php</span><br><span class="line">http://host-tracker.com/</span><br><span class="line">http://www.webpagetest.org/</span><br><span class="line">https://dnscheck.pingdom.com/</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/33.png"><br>5.SSL证书<br>证书颁发机构 (CA) 必须将他们发布的每个 SSL&#x2F;TLS 证书发布到公共日志中，SSL&#x2F;TLS 证书通常包含域名、子域名和电子邮件地址。因此可以利用 SSL&#x2F;TLS 证书来发现目标站点的真实 IP 地址。<br>CDN在提供保护的同时，也会与服务器之间进行加密通信（SSL）。当通过服443端口去访问服务器ip或域名时，就会暴露其SSL证书，也就可以通过证书比对发现服务器的真实IP地址。<br>查询方式：<br>(1):<br><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://crt.sh/">https://crt.sh/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/34.png"><br>(2):<br><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://search.censys.io/">https://search.censys.io/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>Censys 搜索引擎能够扫描整个互联网，每天都会扫描 IPv4 地址空间，以搜索所有联网设备并收集相关的信息，可以利用 Censys 进行全网方面的 SSL 证书搜索，找到匹配的真实 IP 。<br>tips： 并不是有效的证书才是有价值的，无效的证书中也会有很多服务器配置错误依然保留着的信息。<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/35.png"><br>精准定位有效SSL证书</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parsed.names: xxx.com and tags.raw: trusted</span><br></pre></td></tr></table></div></figure>
<p>逐个打开根据sha1签名反查主机<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/36.png"><br>6.敏感信息泄露<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/37.png"><br>ps:<br>服务器日志文件<br>探针文件，例如 phpinfo<br>网站备份压缩文件<br>.DS_Store<br>.hg<br>.git<br>SVN<br>Web.xml<br>7.通过域名备案信息广域探测（成功率高）<br>针对目标域名，目标二级域名，如果都做了 CDN 的情况下，是不是就思路中断了呢？肯定不是。这里分享一个很少有人去关注的独门秘技。</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">网站需要服务器，但是再土豪的公司，也不可能一个域名一台服务器，大多数情况下，都是多个域名业务，共用一台服务器。那么如果目标网站存在备案，可以查询其备案信息，收集该单位或者个人备案的其他网站域名以及其他子域，然后再进行一轮广域的探测，很有可能其中的某个边缘子域，没有做CDN，就直接暴露了真实服务器的 IP 地址，然后再进一步验证该 IP 是否也是目标网站的真实 IP 。</span><br></pre></td></tr></table></div></figure>

        <h3 id="找到真实-IP-后如何使用">
          <a href="#找到真实-IP-后如何使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#找到真实-IP-后如何使用" class="headerlink" title="找到真实 IP 后如何使用"></a>找到真实 IP 后如何使用</h3>
      <p>在获取到真实IP后，通过直接访问IP可能无法访问，那么此时提供2种思路进行解决<br>(1).通过修改 hosts 文件，将域名和 IP 绑定。<br>(2).如使用 burpsuite 测试，可以在 Project options —-&gt; Connections —-&gt; Hostname Resolution 中增加域名和 IP 记录。<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/38.png"><br>验证是否是真实ip：<br>通过源代码获取，确定真实ip使用 view-source:xxx.xxx.xxx.xxx，表明这是真实ip，如果是真，则返回网站源代码<br><img src="/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/39.png"><br>如果为假则返回cdn信息</p>

        <h2 id="2-C段">
          <a href="#2-C段" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-C段" class="headerlink" title="2.C段"></a>2.C段</h2>
      <p>C段：对于红蓝对抗和护网，C段扫描比较有意义。对于单独网站的渗透测试，C段扫描意义不大。C段指的是同一内网段内的其他服务器，每个IP有ABCD四个段，举个例子，192.168.0.1，A段就是192，B段是168，C段是0，D段是1，而C段嗅探的意思就是拿下它同一C段中的其中一台服务器，也就是说是D段1-255中的一台服务器，然后利用工具嗅探拿下该服务器。<br>工具：<br>1.<br>nmap<br>六种扫描结果<br>open(开放的)<br>filtered(被过滤的)<br>open|filtered(开放或者被过滤的)<br>closed(关闭的)<br>closed|filtered(关闭或者被过滤的)<br>unfiltered(未被过滤的)<br>常用命令：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nmap -vvv -Pn -p- ip/24 -n -T4  </span><br><span class="line">#-v 输出详细信息，-v/-vv/-vvv v越多信息越详细 上线3个v  </span><br><span class="line">#-Pn 扫描时不用ping  </span><br><span class="line">#-p-  扫描所有端口（65535个）。如果不使用 -p- ，nmap 将仅扫描1000个端口，GUI参数不可用  </span><br><span class="line">#-n 不做DNS解析  </span><br><span class="line">#-T4 设置时间模板,0-5部分做了扫描时间优化，默认3未作优化。4加速扫描又保持一定准确性</span><br></pre></td></tr></table></div></figure></div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ END ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">Author: </span><span class="copyright-author__value"><a href="https://hyggevv.github.io">hey</a></span></div><div class="copyright-link"><span class="copyright-link__name">Link: </span><span class="copyright-link__value"><a href="https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">https://hyggevv.github.io/2023/05/26/%E5%88%9D%E6%8E%A2%E7%BA%A2%E9%98%9F%E8%B8%A9%E7%82%B9%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">Copyright: </span><span class="copyright-notice__value">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> unless stating additionally</span></div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2023/05/31/2023ciscn%E5%A4%8D%E7%9B%98/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">2023ciscn初赛复盘</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2023/05/23/flask-sstilabs/"><span class="paginator-prev__text">flask-sstilabs</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">Catalog</span><span class="sidebar-nav-ov">Overview</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#0x01-%E4%B8%BB%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF"><span class="toc-number">1.</span> <span class="toc-text">
          0x01.主域名信息</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E5%9F%9F%E5%90%8D%E5%8F%AF%E6%94%B6%E9%9B%86%E5%88%B0%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-number">1.1.</span> <span class="toc-text">
          主域名可收集到的信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ICP%E5%A4%87%E6%A1%88"><span class="toc-number">1.1.1.</span> <span class="toc-text">
          ICP备案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%81%E4%B9%A6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.1.2.</span> <span class="toc-text">
          证书查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Whois"><span class="toc-number">1.1.3.</span> <span class="toc-text">
          Whois</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%8F%8D%E6%9F%A5"><span class="toc-number">1.1.4.</span> <span class="toc-text">
          IP反查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HOST%E7%A2%B0%E6%92%9E"><span class="toc-number">1.1.5.</span> <span class="toc-text">
          HOST碰撞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%85%B1%E4%BA%AB%E8%AE%B0%E5%BD%95"><span class="toc-number">1.1.6.</span> <span class="toc-text">
          DNS共享记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%81%E4%B8%9A%E8%B5%84%E4%BA%A7%E4%BF%A1%E6%81%AF"><span class="toc-number">1.1.7.</span> <span class="toc-text">
          企业资产信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%97%E6%B5%8B"><span class="toc-number">1.1.8.</span> <span class="toc-text">
          众测</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x02-%E5%AD%90%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF"><span class="toc-number">2.</span> <span class="toc-text">
          0x02.子域名信息</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E5%9F%9F%E5%90%8D%E7%9A%84%E6%94%B6%E9%9B%86"><span class="toc-number">2.1.</span> <span class="toc-text">
          子域名的收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%81%E4%B9%A6%E9%80%8F%E6%98%8E%E5%BA%A6%E6%94%B6%E9%9B%86%E5%AD%90%E5%9F%9F"><span class="toc-number">2.1.1.</span> <span class="toc-text">
          证书透明度收集子域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%9F%9F%E4%BC%A0%E9%80%81"><span class="toc-number">2.1.2.</span> <span class="toc-text">
          DNS域传送</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E5%BC%80%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">2.1.3.</span> <span class="toc-text">
          公开数据集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%88%86%E7%A0%B4"><span class="toc-number">2.1.4.</span> <span class="toc-text">
          枚举爆破</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E6%B4%BB%E6%80%A7%E6%8E%A2%E6%B5%8B"><span class="toc-number">2.1.5.</span> <span class="toc-text">
          存活性探测</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x03-IP%E6%AE%B5%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">3.</span> <span class="toc-text">
          0x03.IP段信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%BB%95%E8%BF%87CDN%E5%AF%BB%E6%89%BE%E7%9C%9F%E5%AE%9EIP"><span class="toc-number">3.1.</span> <span class="toc-text">
          1.绕过CDN寻找真实IP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">3.1.1.</span> <span class="toc-text">
          CDN的判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BB%E6%89%BE%E7%9C%9F%E5%AE%9EIP"><span class="toc-number">3.1.2.</span> <span class="toc-text">
          寻找真实IP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%BE%E5%88%B0%E7%9C%9F%E5%AE%9E-IP-%E5%90%8E%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.3.</span> <span class="toc-text">
          找到真实 IP 后如何使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-C%E6%AE%B5"><span class="toc-number">3.2.</span> <span class="toc-text">
          2.C段</span></a></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/usually.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">hey</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">115</div><div class="sidebar-ov-state-item__name">Archives</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">0</div><div class="sidebar-ov-state-item__name">Categories</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">0</div><div class="sidebar-ov-state-item__name">Tags</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">You have read </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2025</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>hey</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span><span> v5.4.2</span><span class="footer__devider">|</span><span>Theme - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.7.0</span></div><div class="busuanzi"><span class="busuanzi-sitepv"><span class="busuanzi-siteuv__icon"><i class="fas fa-eye"></i></span><span class="busuanzi-siteuv__info">Views</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/gh/sukkaw/busuanzi@latest/bsz.pure.mini.js" async></script><script src="/js/utils.js?v=2.7.0"></script><script src="/js/stun-boot.js?v=2.7.0"></script><script src="/js/scroll.js?v=2.7.0"></script><script src="/js/header.js?v=2.7.0"></script><script src="/js/sidebar.js?v=2.7.0"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":180,"height":300},"mobile":{"show":true},"log":false});</script></body></html>